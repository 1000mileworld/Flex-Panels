<!DOCTYPE html>
<html>
<head>
	<title>1000 Mile World</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

  <div class="panels">
    <div class="panel panel1">
      <p>Journey</p>
      <p>1000</p>
      <p>Miles</p>
    </div>
    <div class="panel center panel2">
      <div>
      	<p>1000</p>
      	<div class="bubbles-container">
      		<svg class="bubbles" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 701 1024" style="overflow: visible;">
        	
        	<g class="bubbles-large" stroke-width="7">           
	            <g>
	                <g transform="translate(10 940)">
	                    <circle id="big1" cx="35" cy="35" r="35">
	                </g>
	            </g>
	            <!--
	            <g>
	                <g transform="translate(373 940)">
	                    <circle cx="35" cy="35" r=bigR/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(408 940)">
	                    <circle cx="35" cy="35" r=bigR/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(621 940)">
	                    <circle cx="35" cy="35" r=bigR/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(179 940)">
	                    <circle cx="35" cy="35" r=bigR/>
	                </g>
	            </g>
-->
        	</g>
<!--
        	<g class="bubbles-small" stroke-width="4">
	            <g>
	                <g transform="translate(147 984)">
	                    <circle cx="15" cy="15" r="15"/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(255 984)">
	                    <circle cx="15" cy="15" r="15"/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(573 984)">
	                    <circle cx="15" cy="15" r="15"/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(429 984)">
	                    <circle cx="15" cy="15" r="15"/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(91 984)">
	                    <circle cx="15" cy="15" r="15"/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(640 984)">
	                    <circle cx="15" cy="15" r="15"/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(321 984)">
	                    <circle cx="15" cy="15" r="15"/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(376 984)">
	                    <circle cx="15" cy="15" r="15"/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(376 984)">
	                    <circle cx="15" cy="15" r="15"/>
	                </g>
	            </g>
	            <g>
	                <g transform="translate(497 984)">
	                    <circle cx="15" cy="15" r="15"/>
	                </g>
	            </g>
        	</g>
-->
        	</svg>

      	</div>
      </div>
      <p>Mile</p>
      <div class="centerBox">
      	<p>World</p>
      	<div class="content" id="noClick">
      		blah
      		<br>
      		<br>
      		
      		<label for="bcolor">Bubble Color</label>
    		<input id="bcolor" type="color" name="bcolor" value="#ffffff">

    		<label for="size"> Size Factor: </label>
    		<input id="size" type="range" name="size" min="10" max="90" value="30">

    		<label for="speed"> Speed Factor: </label>
    		<input id="speed" type="range" name="speed" min="25" max="100" value="50">
      	</div>
      	
  	  </div>
    </div>
    <div class="panel panel3">
      <p>Expand</p>
      <p>World</p>
      <p>Horizons</p>
    </div>
  </div>

	<script>
	    const panels = document.querySelectorAll('.panel');
	    let inContent = false;

	    function toggleOpen(){
	      if(!inContent){this.classList.toggle('open');} //adds class "open" if it's not there, remove it if it is
	    }

	    function toggleActive(e){
	      //console.log(e.propertyName); //flex-grow and font-size changed
	      if(e.propertyName.includes('flex')){ //don't do === 'flex' since some browsers have flex and others use flex-grow
	        this.classList.toggle('open-active');
	      }
	    }

		window.onload = initDivMouseOver; //disable toggle if mouse is over content div box
		function initDivMouseOver()   {
		   	let div = document.getElementById("noClick");
			div.onmouseover = function()   {
			    //this.mouseIsOver = true;
			    inContent = true;
		   	};
		   	div.onmouseout = function()   {
		      	//this.mouseIsOver = false;
		      	inContent = false;
		   	}
		}

		panels.forEach(panel => panel.addEventListener('click',toggleOpen));
		panels.forEach(panel => panel.addEventListener('transitionend',toggleActive));


		//controls
		const inputs = document.querySelectorAll('input'); //returns node list
    
	    function handleUpdate(){
	      //const suffix = this.dataset.sizing || ''; //try to append px or nothing (for base color)
	      document.documentElement.style.setProperty(`--${this.name}`,this.value);
	      let size = getComputedStyle(document.documentElement).getPropertyValue('--size')/30*35;
	      document.getElementById('big1').setAttribute('r', size);
	    }

	    //listen for change event on each of the inputs
	    inputs.forEach(input => input.addEventListener('change', handleUpdate));
	    inputs.forEach(input => input.addEventListener('mousemove', handleUpdate)); //live update before you release mouse
		</script>

</body>
</html>